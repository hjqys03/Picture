############################################## - âš“ï¸ é”šç‚¹åŒºå¼€å§‹ - ##############################################
# é”šç‚¹ - ç­›é€‰ç»„
FilterSelect: &FilterSelect {filter: '^(?=.*(?i)(é¦™æ¸¯|ğŸ‡­ğŸ‡°|HK|HKG|å°æ¹¾|ğŸ‡¹ğŸ‡¼|TW|TWN|æ—¥æœ¬|ğŸ‡¯ğŸ‡µ|JP|JPN|ç¾å›½|ğŸ‡ºğŸ‡¸|US|USA))(?!.*(æ’é™¤1|æ’é™¤2)).*$'}
FilterOthers: &FilterOthers {filter: '^(?!.*(DIRECT|Traffic|TRAFFIC|Expire|EXPIRE|æµé‡|åˆ°æœŸ|æ—¶é—´|é‡ç½®))'}
# é”šç‚¹ - é€‰æ‹©ç»„
Select: &Select {type: select, include-all-providers: true, proxies: ['æ‰‹åŠ¨é€‰æ‹©', 'è‡ªåŠ¨é€‰æ‹©', 'ğŸŒ æœ¬åœ°ç›´è¿', 'â›”ï¸ æ‹’ç»è¿æ¥']}
# é”šç‚¹ - è‡ªåŠ¨ç»„
UrlTest: &UrlTest {type: url-test, hidden: true, include-all-providers: true}
# é”šç‚¹ - è§„åˆ™é›†
IPCIDR: &IPCIDR {type: http, interval: 86400, behavior: ipcidr, format: mrs}
Domain: &Domain {type: http, interval: 86400, behavior: domain, format: mrs}
Classical: &Classical {type: http, interval: 86400, behavior: classical, format: text}
# é”šç‚¹ - è¿œç¨‹è®¢é˜…ç»„
Providers: &Providers {type: http, interval: 86400, proxy: DIRECT, health-check: {enable: true, url: 'https://captive.apple.com/generate_204', interval: 600}, <<: *FilterOthers}
############################################## - âš“ï¸ é”šç‚¹åŒºç»“æŸ - ##############################################

# èŠ‚ç‚¹è®¢é˜…
proxy-providers:
  æœºåœº1: 
    <<: *Providers
    url: 'http://localhost:3000/download/SNTP' # æœºåœºçš„ Clash / Meta / Mihomo è®¢é˜…é“¾æ¥
    path: ./providers/æœºåœº1.yaml # è®¢é˜…æ–‡ä»¶å­˜æ”¾ä½ç½®
    override: {additional-prefix: 'æœºåœº1 '} # ç»™å‡ºç«™ä»£ç†èŠ‚ç‚¹æ·»åŠ å‰ç¼€
  # æœºåœº2: {<<: *Providers, url: 'ğŸ”—è®¢é˜…é“¾æ¥', path: ./providers/æœºåœº2.yaml, override: {additional-prefix: 'æœºåœº2 '}}

# åŸºç¡€é…ç½®
mixed-port: 7890
redir-port: 9797
tproxy-port: 9898
mode: rule
log-level: silent
ipv6: true
allow-lan: true
bind-address: '*'
unified-delay: true
tcp-concurrent: true
find-process-mode: strict

# ç®¡ç†é¢æ¿é…ç½®
external-ui-url: 'https://v6.gh-proxy.com/github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip'
external-ui: ./WebUI
external-controller: 0.0.0.0:9090
secret: ''

# ç¼“å­˜é…ç½®
profile:
  store-selected: true
  store-fake-ip: true

# åŸŸåå—…æ¢é…ç½®
sniffer:
  enable: true
  parse-pure-ip: true
  force-dns-mapping: true
  override-destination: false
  sniff: {HTTP: {ports: [80, 8080-8880], override-destination: true}, TLS: {ports: [443, 8443]}, QUIC: {ports: [443, 8443]}}
  skip-domain: ['Mijia Cloud']

# DNSé…ç½®
dns:
  enable: true
  ipv6: true
  prefer-h3: true
  listen: 0.0.0.0:1053
  cache-algorithm: arc
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter: ['RULE-SET:Fakeip-Filter']
  default-nameserver: [223.5.5.5, 119.29.29.29]
  nameserver: ['https://dns.alidns.com/dns-query', 'https://doh.pub/dns-query']

# TUNæ¨¡å¼é…ç½®
tun:
  enable: false
  mtu: 9000
  stack: gvisor
  device: Meta
  dns-hijack: ['any:53', 'tcp://any:53']
  auto-route: true
  strict-route: true
  auto-redirect: false
  auto-detect-interface: true

# å‡ºç«™èŠ‚ç‚¹
proxies:
  - {name: 'ğŸŒ æœ¬åœ°ç›´è¿', type: direct, udp: true}
  - {name: 'â›”ï¸ æ‹’ç»è¿æ¥', type: reject}
  - {name: 'ğŸ”° DNS-Hijack', type: dns}

# ç­–ç•¥ç»„
proxy-groups:
  - {name: 'æ‰‹åŠ¨é€‰æ‹©', type: select, include-all-providers: true, icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/Proxy.png'}
  - {name: 'è‡ªåŠ¨é€‰æ‹©', <<: *UrlTest, hidden: false, icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/Auto.png'}
  - {name: 'è°·æ­Œæ¨é€', <<: *Select, icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/Google_Search.png'}
  - {name: 'Telegram', <<: *Select, icon: 'https://gh-proxy.com/github.com/Orz-3/mini/raw/master/Color/Telegram.png'}
  - {name: 'Twitter', <<: *Select, icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/Twitter.png'}
  - {name: 'YouTube', <<: *Select, icon: 'https://gh-proxy.com/github.com/Orz-3/mini/raw/master/Color/YouTube.png'}
  - {name: 'TikTok', <<: *Select, icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/TikTok.png'}
  - {name: 'AI', <<: *Select, icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/ChatGPT.png'}
  - {name: 'Games', <<: *Select, icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/Game.png'}
  - {name: 'å›½å¤–ä»£ç†', <<: *Select, icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/Europe_Map.png'}
  - {name: 'å›½å†…ä»£ç†', <<: *Select, icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/China_Map.png'}
  - {name: 'å¹¿å‘Šæ‹¦æˆª', <<: *Select, proxies: ['æ‰‹åŠ¨é€‰æ‹©', 'è‡ªåŠ¨é€‰æ‹©', 'ğŸŒ æœ¬åœ°ç›´è¿', 'â›”ï¸ æ‹’ç»è¿æ¥', 'REJECT-DROP', 'PASS'], icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/Hijacking.png'}
  - {name: 'æ¼ç½‘ä¹‹é±¼', <<: *Select, icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/Final.png'}
  - {name: 'GLOBAL', <<: *Select, proxies: ['æ‰‹åŠ¨é€‰æ‹©', 'è‡ªåŠ¨é€‰æ‹©', 'è°·æ­Œæ¨é€', 'Telegram', 'Twitter', 'YouTube', 'TikTok', 'AI', 'Games', 'å›½å¤–ä»£ç†', 'å›½å†…ä»£ç†', 'å¹¿å‘Šæ‹¦æˆª', 'æ¼ç½‘ä¹‹é±¼'], icon: 'https://gh-proxy.com/github.com/Koolson/Qure/raw/master/IconSet/Color/Global.png'}

# è§„åˆ™é›†
rule-providers:
  CN_IP: {<<: *IPCIDR, url: 'https://v6.gh-proxy.com/github.com/QuixoticHeart/rule-set/raw/ruleset/meta/ipcidr/cn.mrs'}
  Proxy_IP: {<<: *IPCIDR, url: 'https://v6.gh-proxy.com/github.com/QuixoticHeart/rule-set/raw/ruleset/meta/ipcidr/proxy.mrs'}
  Private_IP: {<<: *IPCIDR, url: 'https://v6.gh-proxy.com/github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/private.mrs'}
  Telegram_IP: {<<: *IPCIDR, url: 'https://v6.gh-proxy.com/github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/telegram.mrs'}
  Twitter_IP: {<<: *IPCIDR, url: 'https://v6.gh-proxy.com/github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/twitter.mrs'}
  Google_IP: {<<: *IPCIDR, url: 'https://v6.gh-proxy.com/github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/google.mrs'}
  Games_IP: {<<: *IPCIDR, url: 'https://v6.gh-proxy.com/github.com/QuixoticHeart/rule-set/raw/ruleset/meta/ipcidr/games.mrs'}
  CN_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/QuixoticHeart/rule-set/raw/ruleset/meta/domain/cn.mrs'}
  Proxy_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/QuixoticHeart/rule-set/raw/ruleset/meta/domain/proxy.mrs'}
  Private_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/private.mrs'}
  Telegram_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/telegram.mrs'}
  GoogleFCM_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/googlefcm.mrs'}
  Twitter_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/twitter.mrs'}
  Google_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/google.mrs'}
  Games-CN_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/QuixoticHeart/rule-set/raw/ruleset/meta/domain/games-cn.mrs'}
  Games_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/QuixoticHeart/rule-set/raw/ruleset/meta/domain/games.mrs'}
  AI_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/QuixoticHeart/rule-set/raw/ruleset/meta/domain/ai.mrs'}
  TikTok_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/tiktok.mrs'}
  YouTube_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/youtube.mrs'}
  Adblock_Domain: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/privacy-protection-tools/anti-ad.github.io/raw/master/docs/mihomo.mrs'}
  Fakeip-Filter: {<<: *Domain, url: 'https://v6.gh-proxy.com/github.com/QuixoticHeart/rule-set/raw/ruleset/meta/domain/fake-ip-filter.mrs'}

# è·¯ç”±è§„åˆ™
rules:
  - DST-PORT,53,ğŸ”° DNS-Hijack
  - RULE-SET,Adblock_Domain,å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,Private_Domain,DIRECT
  - RULE-SET,GoogleFCM_Domain,è°·æ­Œæ¨é€
  - RULE-SET,Telegram_Domain,Telegram
  - RULE-SET,Twitter_Domain,Twitter
  - RULE-SET,TikTok_Domain,TikTok
  - RULE-SET,AI_Domain,AI
  - RULE-SET,YouTube_Domain,YouTube
  - RULE-SET,Games-CN_Domain,å›½å†…ä»£ç†
  - RULE-SET,Games_Domain,Games
  - RULE-SET,Google_Domain,å›½å¤–ä»£ç†
  - RULE-SET,Proxy_Domain,å›½å¤–ä»£ç†
  - RULE-SET,CN_Domain,å›½å†…ä»£ç†
  - RULE-SET,Private_IP,DIRECT,no-resolve
  - RULE-SET,Telegram_IP,Telegram,no-resolve
  - RULE-SET,Twitter_IP,Twitter,no-resolve
  - RULE-SET,Games_IP,Games,no-resolve
  - RULE-SET,Google_IP,å›½å¤–ä»£ç†,no-resolve
  - RULE-SET,Proxy_IP,å›½å¤–ä»£ç†,no-resolve
  - RULE-SET,CN_IP,å›½å†…ä»£ç†,no-resolve
  - MATCH,æ¼ç½‘ä¹‹é±¼